BEGIN TRANSACTION 
select * FROM dbo.AGREEMENT_ASSET_AMORTIZATION where AGREEMENT_NO = '0003699.4.10.01.2025'
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2025-02-28', BILLING_DATE = '2025-02-28', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 1
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2025-03-31', BILLING_DATE = '2025-03-31', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 2
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2025-04-30', BILLING_DATE = '2025-04-30', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 3
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2025-05-31', BILLING_DATE = '2025-05-31', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 4
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2025-06-30', BILLING_DATE = '2025-06-30', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 5
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2025-07-31', BILLING_DATE = '2025-07-31', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 6
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2025-08-31', BILLING_DATE = '2025-08-31', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 7
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2025-09-30', BILLING_DATE = '2025-09-30', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 8
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2025-10-31', BILLING_DATE = '2025-10-31', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 9
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2025-11-30', BILLING_DATE = '2025-11-30', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 10
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2025-12-31', BILLING_DATE = '2025-12-31', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 11
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2026-01-31', BILLING_DATE = '2026-01-31', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 12
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2026-02-28', BILLING_DATE = '2026-02-28', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 13
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2026-03-31', BILLING_DATE = '2026-03-31', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 14
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2026-04-30', BILLING_DATE = '2026-04-30', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 15
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2026-05-31', BILLING_DATE = '2026-05-31', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 16
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2026-06-30', BILLING_DATE = '2026-06-30', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 17
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2026-07-31', BILLING_DATE = '2026-07-31', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 18
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2026-08-31', BILLING_DATE = '2026-08-31', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 19
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2026-09-30', BILLING_DATE = '2026-09-30', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 20
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2026-10-31', BILLING_DATE = '2026-10-31', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 21
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2026-11-30', BILLING_DATE = '2026-11-30', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 22
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2026-12-31', BILLING_DATE = '2026-12-31', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 23
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2027-01-31', BILLING_DATE = '2027-01-31', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 24
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2027-02-28', BILLING_DATE = '2027-02-28', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 25
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2027-03-31', BILLING_DATE = '2027-03-31', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 26
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2027-04-30', BILLING_DATE = '2027-04-30', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 27
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2027-05-31', BILLING_DATE = '2027-05-31', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 28
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2027-06-30', BILLING_DATE = '2027-06-30', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 29
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2027-07-31', BILLING_DATE = '2027-07-31', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 30
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2027-08-31', BILLING_DATE = '2027-08-31', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 31
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2027-09-30', BILLING_DATE = '2027-09-30', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 32
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2027-10-31', BILLING_DATE = '2027-10-31', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 33
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2027-11-30', BILLING_DATE = '2027-11-30', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 34
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2027-12-31', BILLING_DATE = '2027-12-31', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 35
update dbo.AGREEMENT_ASSET_AMORTIZATION set DUE_DATE = '2028-01-31', BILLING_DATE = '2028-01-31', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025' and BILLING_NO = 36
select * FROM dbo.AGREEMENT_ASSET_AMORTIZATION where AGREEMENT_NO = '0003699.4.10.01.2025'

select BAST_DATE,* FROM dbo.APPLICATION_ASSET where AGREEMENT_NO = '0003699.4.10.01.2025'
update dbo.APPLICATION_ASSET set BAST_DATE = '2025-01-30', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025'
select BAST_DATE,* FROM dbo.APPLICATION_ASSET where AGREEMENT_NO = '0003699.4.10.01.2025'

select MATURITY_DATE,* FROM dbo.AGREEMENT_INFORMATION where AGREEMENT_NO = '0003699.4.10.01.2025'
update dbo.AGREEMENT_INFORMATION set MATURITY_DATE = '2028-01-31', mod_date = GETDATE() ,mod_by = 'MTN_FAUZAN', mod_ip_address = 'MYFORM-532155' where AGREEMENT_NO = '0003699.4.10.01.2025'
select MATURITY_DATE,* FROM dbo.AGREEMENT_INFORMATION where AGREEMENT_NO = '0003699.4.10.01.2025'

DECLARE @val VARCHAR(50);

DECLARE reff_cursor CURSOR FOR
SELECT VAL
FROM (
    VALUES
    ('B9544PXA')
	--,('')
	--,('')
	--,('')
) AS RefNos(VAL);

OPEN reff_cursor;
FETCH NEXT FROM reff_cursor INTO @val;

WHILE @@FETCH_STATUS = 0
BEGIN
    INSERT INTO MTN_DATA_DSF_LOG
    (   
        MAINTENANCE_NAME
        ,REMARK
        ,TABEL_UTAMA
        ,REFF_1
        ,REFF_2
        ,REFF_3
        ,CRE_DATE
        ,CRE_BY
    )
    VALUES
    (   
        'MTN MyForm 532155'
        ,' Revisi BAST Date dan Schedule Billing Kopsi B9544PXA'
        ,'AGREEMENT_ASSET_AMORTIZATION'
        ,'0003699/4/10/01/2025'
        ,@val
        ,null
        ,GETDATE()
        ,'fauzan'
    );

    FETCH NEXT FROM reff_cursor INTO @val;
END

CLOSE reff_cursor;
DEALLOCATE reff_cursor;
ROLLBACK TRANSACTION 